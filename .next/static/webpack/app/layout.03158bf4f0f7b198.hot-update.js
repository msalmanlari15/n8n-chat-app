"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/layout",{

/***/ "(app-pages-browser)/./app/globals.css":
/*!*************************!*\
  !*** ./app/globals.css ***!
  \*************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"d6e98c3ace10\");\nif (true) { module.hot.accept() }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9nbG9iYWxzLmNzcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsY0FBYztBQUM3QixJQUFJLElBQVUsSUFBSSxpQkFBaUIiLCJzb3VyY2VzIjpbIkM6XFxFYnR0aWthciBJbnRlbGxpZ2VuY2UgUHJvamVjdHNcXFRlc3QtQ2hhdC1BcHBcXGFwcFxcZ2xvYmFscy5jc3MiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCJkNmU5OGMzYWNlMTBcIlxuaWYgKG1vZHVsZS5ob3QpIHsgbW9kdWxlLmhvdC5hY2NlcHQoKSB9XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/globals.css\n"));

/***/ }),

/***/ "(app-pages-browser)/./context/ChatContext.tsx":
/*!*********************************!*\
  !*** ./context/ChatContext.tsx ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatProvider: () => (/* binding */ ChatProvider),\n/* harmony export */   useChat: () => (/* binding */ useChat)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_n8n_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/n8n-client */ \"(app-pages-browser)/./lib/n8n-client.ts\");\n/* harmony import */ var _lib_mockapi_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/mockapi-client */ \"(app-pages-browser)/./lib/mockapi-client.ts\");\n/* harmony import */ var _lib_constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/constants */ \"(app-pages-browser)/./lib/constants.ts\");\n/* __next_internal_client_entry_do_not_use__ useChat,ChatProvider auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\n\nconst ChatContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nfunction useChat() {\n    _s();\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ChatContext);\n    if (!context) {\n        throw new Error('useChat must be used within a ChatProvider');\n    }\n    return context;\n}\n_s(useChat, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nfunction ChatProvider(param) {\n    let { children } = param;\n    _s1();\n    // Initialize clients\n    const n8nClient = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)((0,_lib_n8n_client__WEBPACK_IMPORTED_MODULE_2__.createN8NClient)({\n        webhookUrl: _lib_constants__WEBPACK_IMPORTED_MODULE_4__.API_CONFIG.n8n.webhookUrl,\n        streamingUrl: _lib_constants__WEBPACK_IMPORTED_MODULE_4__.API_CONFIG.n8n.streamingUrl,\n        timeout: _lib_constants__WEBPACK_IMPORTED_MODULE_4__.API_CONFIG.n8n.timeout,\n        retryAttempts: _lib_constants__WEBPACK_IMPORTED_MODULE_4__.API_CONFIG.n8n.retryAttempts,\n        retryDelay: _lib_constants__WEBPACK_IMPORTED_MODULE_4__.API_CONFIG.n8n.retryDelay\n    }));\n    const mockApiClient = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)((0,_lib_mockapi_client__WEBPACK_IMPORTED_MODULE_3__.createMockAPIClient)({\n        baseUrl: _lib_constants__WEBPACK_IMPORTED_MODULE_4__.API_CONFIG.mockApi.baseUrl,\n        projectId: _lib_constants__WEBPACK_IMPORTED_MODULE_4__.API_CONFIG.mockApi.projectId,\n        timeout: _lib_constants__WEBPACK_IMPORTED_MODULE_4__.API_CONFIG.mockApi.timeout\n    }));\n    // State\n    const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        sessions: [],\n        currentSessionId: null,\n        isLoading: false,\n        error: null,\n        sidebarCollapsed: false,\n        theme: 'light'\n    });\n    // Current session messages\n    const [currentMessages, setCurrentMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [streamingMessageId, setStreamingMessageId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [currentMessageId, setCurrentMessageId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const sendingMessageRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    // Load initial data\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ChatProvider.useEffect\": ()=>{\n            loadSessions();\n            loadSidebarState();\n        }\n    }[\"ChatProvider.useEffect\"], []);\n    // Load messages when session changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ChatProvider.useEffect\": ()=>{\n            if (state.currentSessionId) {\n                loadMessages(state.currentSessionId);\n            } else {\n                setCurrentMessages([]);\n            }\n        }\n    }[\"ChatProvider.useEffect\"], [\n        state.currentSessionId\n    ]);\n    /**\n   * Load all sessions\n   */ const loadSessions = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"ChatProvider.useCallback[loadSessions]\": async ()=>{\n            setState({\n                \"ChatProvider.useCallback[loadSessions]\": (prev)=>({\n                        ...prev,\n                        isLoading: true,\n                        error: null\n                    })\n            }[\"ChatProvider.useCallback[loadSessions]\"]);\n            try {\n                const sessions = await mockApiClient.current.getSessions();\n                const savedSessionId = localStorage.getItem(_lib_constants__WEBPACK_IMPORTED_MODULE_4__.STORAGE_KEYS.sessionId);\n                setState({\n                    \"ChatProvider.useCallback[loadSessions]\": (prev)=>{\n                        var _sessions_;\n                        var _sessions__id;\n                        return {\n                            ...prev,\n                            sessions,\n                            isLoading: false,\n                            // Select saved session or first session if none selected\n                            currentSessionId: savedSessionId && sessions.find({\n                                \"ChatProvider.useCallback[loadSessions]\": (s)=>s.id === savedSessionId\n                            }[\"ChatProvider.useCallback[loadSessions]\"]) ? savedSessionId : (_sessions__id = (_sessions_ = sessions[0]) === null || _sessions_ === void 0 ? void 0 : _sessions_.id) !== null && _sessions__id !== void 0 ? _sessions__id : null\n                        };\n                    }\n                }[\"ChatProvider.useCallback[loadSessions]\"]);\n            } catch (error) {\n                const errorMessage = error instanceof _lib_mockapi_client__WEBPACK_IMPORTED_MODULE_3__.MockAPIError ? _lib_mockapi_client__WEBPACK_IMPORTED_MODULE_3__.mockAPIUtils.formatError(error) : 'Failed to load sessions';\n                setState({\n                    \"ChatProvider.useCallback[loadSessions]\": (prev)=>({\n                            ...prev,\n                            isLoading: false,\n                            error: errorMessage\n                        })\n                }[\"ChatProvider.useCallback[loadSessions]\"]);\n            }\n        }\n    }[\"ChatProvider.useCallback[loadSessions]\"], []);\n    /**\n   * Load messages for a session\n   */ const loadMessages = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"ChatProvider.useCallback[loadMessages]\": async (sessionId)=>{\n            try {\n                const sessionMessages = await mockApiClient.current.getMessages(sessionId);\n                console.log('Loading messages for session:', sessionId, 'count:', sessionMessages.length);\n                console.log('Message IDs:', sessionMessages.map({\n                    \"ChatProvider.useCallback[loadMessages]\": (m)=>m.id\n                }[\"ChatProvider.useCallback[loadMessages]\"]));\n                setCurrentMessages(sessionMessages);\n            } catch (error) {\n                console.error('Failed to load messages:', error);\n            }\n        }\n    }[\"ChatProvider.useCallback[loadMessages]\"], []);\n    /**\n   * Create new session\n   */ const createSession = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"ChatProvider.useCallback[createSession]\": async (name)=>{\n            setState({\n                \"ChatProvider.useCallback[createSession]\": (prev)=>({\n                        ...prev,\n                        isLoading: true,\n                        error: null\n                    })\n            }[\"ChatProvider.useCallback[createSession]\"]);\n            try {\n                const sessionName = name || \"Chat \".concat(new Date().toLocaleString());\n                const session = await mockApiClient.current.createSession(sessionName);\n                setState({\n                    \"ChatProvider.useCallback[createSession]\": (prev)=>({\n                            ...prev,\n                            sessions: [\n                                session,\n                                ...prev.sessions\n                            ],\n                            currentSessionId: session.id,\n                            isLoading: false\n                        })\n                }[\"ChatProvider.useCallback[createSession]\"]);\n                // Save current session to localStorage\n                localStorage.setItem(_lib_constants__WEBPACK_IMPORTED_MODULE_4__.STORAGE_KEYS.sessionId, session.id);\n            } catch (error) {\n                const errorMessage = error instanceof _lib_mockapi_client__WEBPACK_IMPORTED_MODULE_3__.MockAPIError ? _lib_mockapi_client__WEBPACK_IMPORTED_MODULE_3__.mockAPIUtils.formatError(error) : 'Failed to create session';\n                setState({\n                    \"ChatProvider.useCallback[createSession]\": (prev)=>({\n                            ...prev,\n                            isLoading: false,\n                            error: errorMessage\n                        })\n                }[\"ChatProvider.useCallback[createSession]\"]);\n            }\n        }\n    }[\"ChatProvider.useCallback[createSession]\"], []);\n    /**\n   * Select session\n   */ const selectSession = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"ChatProvider.useCallback[selectSession]\": async (sessionId)=>{\n            setState({\n                \"ChatProvider.useCallback[selectSession]\": (prev)=>({\n                        ...prev,\n                        currentSessionId: sessionId\n                    })\n            }[\"ChatProvider.useCallback[selectSession]\"]);\n            // Save to localStorage\n            localStorage.setItem(_lib_constants__WEBPACK_IMPORTED_MODULE_4__.STORAGE_KEYS.sessionId, sessionId);\n            // Update session activity\n            try {\n                await mockApiClient.current.updateSessionActivity(sessionId);\n            } catch (error) {\n                console.error('Failed to update session activity:', error);\n            }\n        }\n    }[\"ChatProvider.useCallback[selectSession]\"], []);\n    /**\n   * Rename session\n   */ const renameSession = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"ChatProvider.useCallback[renameSession]\": async (sessionId, newName)=>{\n            const validationError = _lib_mockapi_client__WEBPACK_IMPORTED_MODULE_3__.mockAPIUtils.validateSessionName(newName);\n            if (validationError) {\n                setState({\n                    \"ChatProvider.useCallback[renameSession]\": (prev)=>({\n                            ...prev,\n                            error: validationError\n                        })\n                }[\"ChatProvider.useCallback[renameSession]\"]);\n                return;\n            }\n            try {\n                const updatedSession = await mockApiClient.current.updateSession(sessionId, {\n                    name: newName\n                });\n                setState({\n                    \"ChatProvider.useCallback[renameSession]\": (prev)=>({\n                            ...prev,\n                            sessions: prev.sessions.map({\n                                \"ChatProvider.useCallback[renameSession]\": (session)=>session.id === sessionId ? updatedSession : session\n                            }[\"ChatProvider.useCallback[renameSession]\"])\n                        })\n                }[\"ChatProvider.useCallback[renameSession]\"]);\n            } catch (error) {\n                const errorMessage = error instanceof _lib_mockapi_client__WEBPACK_IMPORTED_MODULE_3__.MockAPIError ? _lib_mockapi_client__WEBPACK_IMPORTED_MODULE_3__.mockAPIUtils.formatError(error) : 'Failed to rename session';\n                setState({\n                    \"ChatProvider.useCallback[renameSession]\": (prev)=>({\n                            ...prev,\n                            error: errorMessage\n                        })\n                }[\"ChatProvider.useCallback[renameSession]\"]);\n            }\n        }\n    }[\"ChatProvider.useCallback[renameSession]\"], []);\n    /**\n   * Delete session\n   */ const deleteSession = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"ChatProvider.useCallback[deleteSession]\": async (sessionId)=>{\n            try {\n                await mockApiClient.current.deleteSession(sessionId);\n                setState({\n                    \"ChatProvider.useCallback[deleteSession]\": (prev)=>{\n                        var _newSessions_;\n                        const newSessions = prev.sessions.filter({\n                            \"ChatProvider.useCallback[deleteSession].newSessions\": (s)=>s.id !== sessionId\n                        }[\"ChatProvider.useCallback[deleteSession].newSessions\"]);\n                        var _newSessions__id;\n                        const newCurrentSessionId = prev.currentSessionId === sessionId ? (_newSessions__id = (_newSessions_ = newSessions[0]) === null || _newSessions_ === void 0 ? void 0 : _newSessions_.id) !== null && _newSessions__id !== void 0 ? _newSessions__id : null : prev.currentSessionId;\n                        // Update localStorage\n                        if (newCurrentSessionId) {\n                            localStorage.setItem(_lib_constants__WEBPACK_IMPORTED_MODULE_4__.STORAGE_KEYS.sessionId, newCurrentSessionId);\n                        } else {\n                            localStorage.removeItem(_lib_constants__WEBPACK_IMPORTED_MODULE_4__.STORAGE_KEYS.sessionId);\n                        }\n                        return {\n                            ...prev,\n                            sessions: newSessions,\n                            currentSessionId: newCurrentSessionId\n                        };\n                    }\n                }[\"ChatProvider.useCallback[deleteSession]\"]);\n            } catch (error) {\n                const errorMessage = error instanceof _lib_mockapi_client__WEBPACK_IMPORTED_MODULE_3__.MockAPIError ? _lib_mockapi_client__WEBPACK_IMPORTED_MODULE_3__.mockAPIUtils.formatError(error) : 'Failed to delete session';\n                setState({\n                    \"ChatProvider.useCallback[deleteSession]\": (prev)=>({\n                            ...prev,\n                            error: errorMessage\n                        })\n                }[\"ChatProvider.useCallback[deleteSession]\"]);\n            }\n        }\n    }[\"ChatProvider.useCallback[deleteSession]\"], []);\n    /**\n   * Send message\n   */ const sendMessage = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"ChatProvider.useCallback[sendMessage]\": async (content)=>{\n            if (!state.currentSessionId) {\n                setState({\n                    \"ChatProvider.useCallback[sendMessage]\": (prev)=>({\n                            ...prev,\n                            error: 'No session selected'\n                        })\n                }[\"ChatProvider.useCallback[sendMessage]\"]);\n                return;\n            }\n            // Prevent double submissions with ref\n            if (sendingMessageRef.current) {\n                console.log('Already sending message, ignoring duplicate request');\n                return;\n            }\n            sendingMessageRef.current = true;\n            setState({\n                \"ChatProvider.useCallback[sendMessage]\": (prev)=>({\n                        ...prev,\n                        error: null,\n                        isLoading: true\n                    })\n            }[\"ChatProvider.useCallback[sendMessage]\"]);\n            // Generate a temporary message ID for tracking\n            const tempMessageId = \"temp-\".concat(Date.now());\n            setCurrentMessageId(tempMessageId);\n            // Create user message\n            const userMessage = {\n                sessionId: state.currentSessionId,\n                content,\n                type: 'user',\n                timestamp: new Date()\n            };\n            try {\n                // Save user message\n                const savedUserMessage = await mockApiClient.current.createMessage(userMessage);\n                console.log('Adding user message:', savedUserMessage.id);\n                setCurrentMessages({\n                    \"ChatProvider.useCallback[sendMessage]\": (prev)=>{\n                        // Check if this message already exists to prevent duplicates\n                        const exists = prev.some({\n                            \"ChatProvider.useCallback[sendMessage].exists\": (msg)=>msg.id === savedUserMessage.id\n                        }[\"ChatProvider.useCallback[sendMessage].exists\"]);\n                        if (exists) {\n                            console.log('User message already exists, skipping:', savedUserMessage.id);\n                            return prev;\n                        }\n                        console.log('Adding new user message to state:', savedUserMessage.id);\n                        return [\n                            ...prev,\n                            savedUserMessage\n                        ];\n                    }\n                }[\"ChatProvider.useCallback[sendMessage]\"]);\n                // Prepare n8n request with message ID for tracking\n                const n8nRequest = {\n                    username: 'user',\n                    message: content,\n                    sessionId: state.currentSessionId,\n                    timestamp: new Date(),\n                    messageId: tempMessageId // Add this to track thinking updates\n                };\n                // Send to n8n\n                const response = await n8nClient.current.sendMessageWithRetry(n8nRequest);\n                // Create assistant message\n                const assistantMessage = {\n                    sessionId: state.currentSessionId,\n                    content: '',\n                    type: 'assistant',\n                    timestamp: new Date(),\n                    responseData: {\n                        type: response.messageType,\n                        content: response.content,\n                        metadata: response.metadata\n                    }\n                };\n                // Save assistant message\n                const savedAssistantMessage = await mockApiClient.current.createMessage(assistantMessage);\n                console.log('Adding assistant message:', savedAssistantMessage.id);\n                setCurrentMessages({\n                    \"ChatProvider.useCallback[sendMessage]\": (prev)=>{\n                        // Check if this message already exists to prevent duplicates\n                        const exists = prev.some({\n                            \"ChatProvider.useCallback[sendMessage].exists\": (msg)=>msg.id === savedAssistantMessage.id\n                        }[\"ChatProvider.useCallback[sendMessage].exists\"]);\n                        if (exists) {\n                            console.log('Assistant message already exists, skipping:', savedAssistantMessage.id);\n                            return prev;\n                        }\n                        console.log('Adding new assistant message to state:', savedAssistantMessage.id);\n                        return [\n                            ...prev,\n                            savedAssistantMessage\n                        ];\n                    }\n                }[\"ChatProvider.useCallback[sendMessage]\"]);\n                // Update session in state\n                setState({\n                    \"ChatProvider.useCallback[sendMessage]\": (prev)=>({\n                            ...prev,\n                            sessions: prev.sessions.map({\n                                \"ChatProvider.useCallback[sendMessage]\": (session)=>session.id === state.currentSessionId ? {\n                                        ...session,\n                                        metadata: {\n                                            ...session.metadata,\n                                            messageCount: session.metadata.messageCount + 2\n                                        }\n                                    } : session\n                            }[\"ChatProvider.useCallback[sendMessage]\"])\n                        })\n                }[\"ChatProvider.useCallback[sendMessage]\"]);\n                // Clear loading state and message ID on success\n                setState({\n                    \"ChatProvider.useCallback[sendMessage]\": (prev)=>({\n                            ...prev,\n                            isLoading: false\n                        })\n                }[\"ChatProvider.useCallback[sendMessage]\"]);\n                setCurrentMessageId(null);\n            } catch (error) {\n                const errorMessage = error instanceof _lib_n8n_client__WEBPACK_IMPORTED_MODULE_2__.N8NError ? _lib_n8n_client__WEBPACK_IMPORTED_MODULE_2__.n8nUtils.formatError(error) : 'Failed to send message';\n                setState({\n                    \"ChatProvider.useCallback[sendMessage]\": (prev)=>({\n                            ...prev,\n                            error: errorMessage,\n                            isLoading: false\n                        })\n                }[\"ChatProvider.useCallback[sendMessage]\"]);\n                setCurrentMessageId(null);\n            } finally{\n                sendingMessageRef.current = false;\n            }\n        }\n    }[\"ChatProvider.useCallback[sendMessage]\"], [\n        state.currentSessionId\n    ]);\n    /**\n   * Handle streaming messages\n   */ const handleStreaming = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"ChatProvider.useCallback[handleStreaming]\": async (sessionId)=>{\n            try {\n                for await (const response of n8nClient.current.streamMessages(sessionId)){\n                    if (_lib_n8n_client__WEBPACK_IMPORTED_MODULE_2__.n8nUtils.isInterimMessage(response)) {\n                        // Create interim message\n                        const interimMessage = {\n                            sessionId,\n                            content: typeof response.content === 'string' ? response.content : JSON.stringify(response.content),\n                            type: 'interim',\n                            timestamp: new Date(),\n                            responseData: {\n                                type: response.messageType,\n                                content: response.content,\n                                metadata: response.metadata\n                            }\n                        };\n                        // Save and display interim message\n                        const savedInterimMessage = await mockApiClient.current.createMessage(interimMessage);\n                        setCurrentMessages({\n                            \"ChatProvider.useCallback[handleStreaming]\": (prev)=>[\n                                    ...prev,\n                                    savedInterimMessage\n                                ]\n                        }[\"ChatProvider.useCallback[handleStreaming]\"]);\n                    }\n                }\n            } catch (error) {\n                console.error('Streaming error:', error);\n            }\n        }\n    }[\"ChatProvider.useCallback[handleStreaming]\"], []);\n    /**\n   * Retry failed message\n   */ const retryMessage = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"ChatProvider.useCallback[retryMessage]\": async (messageId)=>{\n            const message = currentMessages.find({\n                \"ChatProvider.useCallback[retryMessage].message\": (m)=>m.id === messageId\n            }[\"ChatProvider.useCallback[retryMessage].message\"]);\n            if (!message || message.type !== 'user') return;\n            await sendMessage(message.content);\n        }\n    }[\"ChatProvider.useCallback[retryMessage]\"], [\n        currentMessages,\n        sendMessage\n    ]);\n    /**\n   * Toggle sidebar\n   */ const toggleSidebar = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"ChatProvider.useCallback[toggleSidebar]\": ()=>{\n            setState({\n                \"ChatProvider.useCallback[toggleSidebar]\": (prev)=>{\n                    const newCollapsed = !prev.sidebarCollapsed;\n                    localStorage.setItem(_lib_constants__WEBPACK_IMPORTED_MODULE_4__.STORAGE_KEYS.sidebarCollapsed, String(newCollapsed));\n                    return {\n                        ...prev,\n                        sidebarCollapsed: newCollapsed\n                    };\n                }\n            }[\"ChatProvider.useCallback[toggleSidebar]\"]);\n        }\n    }[\"ChatProvider.useCallback[toggleSidebar]\"], []);\n    /**\n   * Load sidebar state from localStorage\n   */ const loadSidebarState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"ChatProvider.useCallback[loadSidebarState]\": ()=>{\n            const saved = localStorage.getItem(_lib_constants__WEBPACK_IMPORTED_MODULE_4__.STORAGE_KEYS.sidebarCollapsed);\n            if (saved) {\n                setState({\n                    \"ChatProvider.useCallback[loadSidebarState]\": (prev)=>({\n                            ...prev,\n                            sidebarCollapsed: saved === 'true'\n                        })\n                }[\"ChatProvider.useCallback[loadSidebarState]\"]);\n            }\n        }\n    }[\"ChatProvider.useCallback[loadSidebarState]\"], []);\n    /**\n   * Clear error\n   */ const clearError = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"ChatProvider.useCallback[clearError]\": ()=>{\n            setState({\n                \"ChatProvider.useCallback[clearError]\": (prev)=>({\n                        ...prev,\n                        error: null\n                    })\n            }[\"ChatProvider.useCallback[clearError]\"]);\n        }\n    }[\"ChatProvider.useCallback[clearError]\"], []);\n    const value = {\n        state,\n        currentMessages,\n        currentMessageId,\n        createSession,\n        selectSession,\n        renameSession,\n        deleteSession,\n        sendMessage,\n        retryMessage,\n        toggleSidebar,\n        clearError\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChatContext.Provider, {\n        value: value,\n        children: children\n    }, void 0, false, {\n        fileName: \"C:\\\\Ebttikar Intelligence Projects\\\\Test-Chat-App\\\\context\\\\ChatContext.tsx\",\n        lineNumber: 445,\n        columnNumber: 5\n    }, this);\n}\n_s1(ChatProvider, \"yqIVGbJRCf/4KC7JQutgEjkWA2Q=\");\n_c = ChatProvider;\nvar _c;\n$RefreshReg$(_c, \"ChatProvider\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbnRleHQvQ2hhdENvbnRleHQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFFa0c7QUFFNUI7QUFDZ0I7QUFDakI7QUF5QnJFLE1BQU1lLDRCQUFjZCxvREFBYUEsQ0FBOEJlO0FBRXhELFNBQVNDOztJQUNkLE1BQU1DLFVBQVVoQixpREFBVUEsQ0FBQ2E7SUFDM0IsSUFBSSxDQUFDRyxTQUFTO1FBQ1osTUFBTSxJQUFJQyxNQUFNO0lBQ2xCO0lBQ0EsT0FBT0Q7QUFDVDtHQU5nQkQ7QUFZVCxTQUFTRyxhQUFhLEtBQStCO1FBQS9CLEVBQUVDLFFBQVEsRUFBcUIsR0FBL0I7O0lBQzNCLHFCQUFxQjtJQUNyQixNQUFNQyxZQUFZaEIsNkNBQU1BLENBQUNDLGdFQUFlQSxDQUFDO1FBQ3ZDZ0IsWUFBWVYsc0RBQVVBLENBQUNXLEdBQUcsQ0FBQ0QsVUFBVTtRQUNyQ0UsY0FBY1osc0RBQVVBLENBQUNXLEdBQUcsQ0FBQ0MsWUFBWTtRQUN6Q0MsU0FBU2Isc0RBQVVBLENBQUNXLEdBQUcsQ0FBQ0UsT0FBTztRQUMvQkMsZUFBZWQsc0RBQVVBLENBQUNXLEdBQUcsQ0FBQ0csYUFBYTtRQUMzQ0MsWUFBWWYsc0RBQVVBLENBQUNXLEdBQUcsQ0FBQ0ksVUFBVTtJQUN2QztJQUVBLE1BQU1DLGdCQUFnQnZCLDZDQUFNQSxDQUFDSSx3RUFBbUJBLENBQUM7UUFDL0NvQixTQUFTakIsc0RBQVVBLENBQUNrQixPQUFPLENBQUNELE9BQU87UUFDbkNFLFdBQVduQixzREFBVUEsQ0FBQ2tCLE9BQU8sQ0FBQ0MsU0FBUztRQUN2Q04sU0FBU2Isc0RBQVVBLENBQUNrQixPQUFPLENBQUNMLE9BQU87SUFDckM7SUFFQSxRQUFRO0lBQ1IsTUFBTSxDQUFDTyxPQUFPQyxTQUFTLEdBQUc5QiwrQ0FBUUEsQ0FBWTtRQUM1QytCLFVBQVUsRUFBRTtRQUNaQyxrQkFBa0I7UUFDbEJDLFdBQVc7UUFDWEMsT0FBTztRQUNQQyxrQkFBa0I7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O0dBRUMsR0FDRCxNQUFNZ0MsZ0JBQWdCckgsa0RBQVdBO21EQUFDO1lBQ2hDNkI7MkRBQVNpQixDQUFBQTtvQkFDUCxNQUFNd0UsZUFBZSxDQUFDeEUsS0FBS1osZ0JBQWdCO29CQUMzQ2dCLGFBQWFxQixPQUFPLENBQUM5RCx3REFBWUEsQ0FBQ3lCLGdCQUFnQixFQUFFcUYsT0FBT0Q7b0JBQzNELE9BQU87d0JBQUUsR0FBR3hFLElBQUk7d0JBQUVaLGtCQUFrQm9GO29CQUFhO2dCQUNuRDs7UUFDRjtrREFBRyxFQUFFO0lBRUw7O0dBRUMsR0FDRCxNQUFNMUUsbUJBQW1CNUMsa0RBQVdBO3NEQUFDO1lBQ25DLE1BQU13SCxRQUFRdEUsYUFBYUMsT0FBTyxDQUFDMUMsd0RBQVlBLENBQUN5QixnQkFBZ0I7WUFDaEUsSUFBSXNGLE9BQU87Z0JBQ1QzRjtrRUFBU2lCLENBQUFBLE9BQVM7NEJBQUUsR0FBR0EsSUFBSTs0QkFBRVosa0JBQWtCc0YsVUFBVTt3QkFBTzs7WUFDbEU7UUFDRjtxREFBRyxFQUFFO0lBRUw7O0dBRUMsR0FDRCxNQUFNQyxhQUFhekgsa0RBQVdBO2dEQUFDO1lBQzdCNkI7d0RBQVNpQixDQUFBQSxPQUFTO3dCQUFFLEdBQUdBLElBQUk7d0JBQUViLE9BQU87b0JBQUs7O1FBQzNDOytDQUFHLEVBQUU7SUFFTCxNQUFNeUYsUUFBeUI7UUFDN0I5RjtRQUNBUTtRQUNBSTtRQUNBeUI7UUFDQU87UUFDQUU7UUFDQU07UUFDQUs7UUFDQStCO1FBQ0FDO1FBQ0FJO0lBQ0Y7SUFFQSxxQkFDRSw4REFBQy9HLFlBQVlpSCxRQUFRO1FBQUNELE9BQU9BO2tCQUMxQjFHOzs7Ozs7QUFHUDtJQW5aZ0JEO0tBQUFBIiwic291cmNlcyI6WyJDOlxcRWJ0dGlrYXIgSW50ZWxsaWdlbmNlIFByb2plY3RzXFxUZXN0LUNoYXQtQXBwXFxjb250ZXh0XFxDaGF0Q29udGV4dC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnXG5cbmltcG9ydCBSZWFjdCwgeyBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0LCB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlUmVmIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBDaGF0U3RhdGUsIENoYXRTZXNzaW9uLCBNZXNzYWdlLCBOOE5SZXF1ZXN0LCBOOE5SZXNwb25zZSB9IGZyb20gJ0AvdHlwZXMnXG5pbXBvcnQgeyBjcmVhdGVOOE5DbGllbnQsIE44TkVycm9yLCBuOG5VdGlscyB9IGZyb20gJ0AvbGliL244bi1jbGllbnQnXG5pbXBvcnQgeyBjcmVhdGVNb2NrQVBJQ2xpZW50LCBNb2NrQVBJRXJyb3IsIG1vY2tBUElVdGlscyB9IGZyb20gJ0AvbGliL21vY2thcGktY2xpZW50J1xuaW1wb3J0IHsgQVBJX0NPTkZJRywgVUlfQ09ORklHLCBTVE9SQUdFX0tFWVMgfSBmcm9tICdAL2xpYi9jb25zdGFudHMnXG5cbmludGVyZmFjZSBDaGF0Q29udGV4dFR5cGUge1xuICAvLyBTdGF0ZVxuICBzdGF0ZTogQ2hhdFN0YXRlXG4gIGN1cnJlbnRNZXNzYWdlczogTWVzc2FnZVtdXG4gIGN1cnJlbnRNZXNzYWdlSWQ6IHN0cmluZyB8IG51bGxcbiAgXG4gIC8vIFNlc3Npb24gb3BlcmF0aW9uc1xuICBjcmVhdGVTZXNzaW9uOiAobmFtZT86IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPlxuICBzZWxlY3RTZXNzaW9uOiAoc2Vzc2lvbklkOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD5cbiAgcmVuYW1lU2Vzc2lvbjogKHNlc3Npb25JZDogc3RyaW5nLCBuZXdOYW1lOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD5cbiAgZGVsZXRlU2Vzc2lvbjogKHNlc3Npb25JZDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+XG4gIFxuICAvLyBNZXNzYWdlIG9wZXJhdGlvbnNcbiAgc2VuZE1lc3NhZ2U6IChjb250ZW50OiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD5cbiAgcmV0cnlNZXNzYWdlOiAobWVzc2FnZUlkOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD5cbiAgXG4gIC8vIFVJIG9wZXJhdGlvbnNcbiAgdG9nZ2xlU2lkZWJhcjogKCkgPT4gdm9pZFxuICBcbiAgLy8gVXRpbGl0eVxuICBjbGVhckVycm9yOiAoKSA9PiB2b2lkXG59XG5cbmNvbnN0IENoYXRDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxDaGF0Q29udGV4dFR5cGUgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZClcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUNoYXQoKSB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KENoYXRDb250ZXh0KVxuICBpZiAoIWNvbnRleHQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzZUNoYXQgbXVzdCBiZSB1c2VkIHdpdGhpbiBhIENoYXRQcm92aWRlcicpXG4gIH1cbiAgcmV0dXJuIGNvbnRleHRcbn1cblxuaW50ZXJmYWNlIENoYXRQcm92aWRlclByb3BzIHtcbiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQ2hhdFByb3ZpZGVyKHsgY2hpbGRyZW4gfTogQ2hhdFByb3ZpZGVyUHJvcHMpIHtcbiAgLy8gSW5pdGlhbGl6ZSBjbGllbnRzXG4gIGNvbnN0IG44bkNsaWVudCA9IHVzZVJlZihjcmVhdGVOOE5DbGllbnQoe1xuICAgIHdlYmhvb2tVcmw6IEFQSV9DT05GSUcubjhuLndlYmhvb2tVcmwsXG4gICAgc3RyZWFtaW5nVXJsOiBBUElfQ09ORklHLm44bi5zdHJlYW1pbmdVcmwsXG4gICAgdGltZW91dDogQVBJX0NPTkZJRy5uOG4udGltZW91dCxcbiAgICByZXRyeUF0dGVtcHRzOiBBUElfQ09ORklHLm44bi5yZXRyeUF0dGVtcHRzLFxuICAgIHJldHJ5RGVsYXk6IEFQSV9DT05GSUcubjhuLnJldHJ5RGVsYXlcbiAgfSkpXG4gIFxuICBjb25zdCBtb2NrQXBpQ2xpZW50ID0gdXNlUmVmKGNyZWF0ZU1vY2tBUElDbGllbnQoe1xuICAgIGJhc2VVcmw6IEFQSV9DT05GSUcubW9ja0FwaS5iYXNlVXJsLFxuICAgIHByb2plY3RJZDogQVBJX0NPTkZJRy5tb2NrQXBpLnByb2plY3RJZCxcbiAgICB0aW1lb3V0OiBBUElfQ09ORklHLm1vY2tBcGkudGltZW91dFxuICB9KSlcblxuICAvLyBTdGF0ZVxuICBjb25zdCBbc3RhdGUsIHNldFN0YXRlXSA9IHVzZVN0YXRlPENoYXRTdGF0ZT4oe1xuICAgIHNlc3Npb25zOiBbXSxcbiAgICBjdXJyZW50U2Vzc2lvbklkOiBudWxsLFxuICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgZXJyb3I6IG51bGwsXG4gICAgc2lkZWJhckNvbGxhcHNlZDogZmFsc2UsXG4gICAgdGhlbWU6ICdsaWdodCdcbiAgfSlcblxuICAvLyBDdXJyZW50IHNlc3Npb24gbWVzc2FnZXNcbiAgY29uc3QgW2N1cnJlbnRNZXNzYWdlcywgc2V0Q3VycmVudE1lc3NhZ2VzXSA9IHVzZVN0YXRlPE1lc3NhZ2VbXT4oW10pXG4gIGNvbnN0IFtzdHJlYW1pbmdNZXNzYWdlSWQsIHNldFN0cmVhbWluZ01lc3NhZ2VJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKVxuICBjb25zdCBbY3VycmVudE1lc3NhZ2VJZCwgc2V0Q3VycmVudE1lc3NhZ2VJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKVxuICBjb25zdCBzZW5kaW5nTWVzc2FnZVJlZiA9IHVzZVJlZjxib29sZWFuPihmYWxzZSlcblxuICAvLyBMb2FkIGluaXRpYWwgZGF0YVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxvYWRTZXNzaW9ucygpXG4gICAgbG9hZFNpZGViYXJTdGF0ZSgpXG4gIH0sIFtdKVxuXG4gIC8vIExvYWQgbWVzc2FnZXMgd2hlbiBzZXNzaW9uIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoc3RhdGUuY3VycmVudFNlc3Npb25JZCkge1xuICAgICAgbG9hZE1lc3NhZ2VzKHN0YXRlLmN1cnJlbnRTZXNzaW9uSWQpXG4gICAgfSBlbHNlIHtcbiAgICAgIHNldEN1cnJlbnRNZXNzYWdlcyhbXSlcbiAgICB9XG4gIH0sIFtzdGF0ZS5jdXJyZW50U2Vzc2lvbklkXSlcblxuICAvKipcbiAgICogTG9hZCBhbGwgc2Vzc2lvbnNcbiAgICovXG4gIGNvbnN0IGxvYWRTZXNzaW9ucyA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBzZXRTdGF0ZShwcmV2ID0+ICh7IC4uLnByZXYsIGlzTG9hZGluZzogdHJ1ZSwgZXJyb3I6IG51bGwgfSkpXG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHNlc3Npb25zID0gYXdhaXQgbW9ja0FwaUNsaWVudC5jdXJyZW50LmdldFNlc3Npb25zKClcbiAgICAgIGNvbnN0IHNhdmVkU2Vzc2lvbklkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oU1RPUkFHRV9LRVlTLnNlc3Npb25JZClcbiAgICAgIFxuICAgICAgc2V0U3RhdGUocHJldiA9PiAoeyBcbiAgICAgICAgLi4ucHJldiwgXG4gICAgICAgIHNlc3Npb25zLCBcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgLy8gU2VsZWN0IHNhdmVkIHNlc3Npb24gb3IgZmlyc3Qgc2Vzc2lvbiBpZiBub25lIHNlbGVjdGVkXG4gICAgICAgIGN1cnJlbnRTZXNzaW9uSWQ6IHNhdmVkU2Vzc2lvbklkICYmIHNlc3Npb25zLmZpbmQocyA9PiBzLmlkID09PSBzYXZlZFNlc3Npb25JZCkgXG4gICAgICAgICAgPyBzYXZlZFNlc3Npb25JZCBcbiAgICAgICAgICA6IChzZXNzaW9uc1swXT8uaWQgPz8gbnVsbClcbiAgICAgIH0pKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIE1vY2tBUElFcnJvciBcbiAgICAgICAgPyBtb2NrQVBJVXRpbHMuZm9ybWF0RXJyb3IoZXJyb3IpXG4gICAgICAgIDogJ0ZhaWxlZCB0byBsb2FkIHNlc3Npb25zJ1xuICAgICAgXG4gICAgICBzZXRTdGF0ZShwcmV2ID0+ICh7IFxuICAgICAgICAuLi5wcmV2LCBcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSwgXG4gICAgICAgIGVycm9yOiBlcnJvck1lc3NhZ2UgXG4gICAgICB9KSlcbiAgICB9XG4gIH0sIFtdKVxuXG4gIC8qKlxuICAgKiBMb2FkIG1lc3NhZ2VzIGZvciBhIHNlc3Npb25cbiAgICovXG4gIGNvbnN0IGxvYWRNZXNzYWdlcyA9IHVzZUNhbGxiYWNrKGFzeW5jIChzZXNzaW9uSWQ6IHN0cmluZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzZXNzaW9uTWVzc2FnZXMgPSBhd2FpdCBtb2NrQXBpQ2xpZW50LmN1cnJlbnQuZ2V0TWVzc2FnZXMoc2Vzc2lvbklkKVxuICAgICAgY29uc29sZS5sb2coJ0xvYWRpbmcgbWVzc2FnZXMgZm9yIHNlc3Npb246Jywgc2Vzc2lvbklkLCAnY291bnQ6Jywgc2Vzc2lvbk1lc3NhZ2VzLmxlbmd0aClcbiAgICAgIGNvbnNvbGUubG9nKCdNZXNzYWdlIElEczonLCBzZXNzaW9uTWVzc2FnZXMubWFwKG0gPT4gbS5pZCkpXG4gICAgICBzZXRDdXJyZW50TWVzc2FnZXMoc2Vzc2lvbk1lc3NhZ2VzKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCBtZXNzYWdlczonLCBlcnJvcilcbiAgICB9XG4gIH0sIFtdKVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgbmV3IHNlc3Npb25cbiAgICovXG4gIGNvbnN0IGNyZWF0ZVNlc3Npb24gPSB1c2VDYWxsYmFjayhhc3luYyAobmFtZT86IHN0cmluZykgPT4ge1xuICAgIHNldFN0YXRlKHByZXYgPT4gKHsgLi4ucHJldiwgaXNMb2FkaW5nOiB0cnVlLCBlcnJvcjogbnVsbCB9KSlcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc2Vzc2lvbk5hbWUgPSBuYW1lIHx8IGBDaGF0ICR7bmV3IERhdGUoKS50b0xvY2FsZVN0cmluZygpfWBcbiAgICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBtb2NrQXBpQ2xpZW50LmN1cnJlbnQuY3JlYXRlU2Vzc2lvbihzZXNzaW9uTmFtZSlcbiAgICAgIFxuICAgICAgc2V0U3RhdGUocHJldiA9PiAoeyBcbiAgICAgICAgLi4ucHJldiwgXG4gICAgICAgIHNlc3Npb25zOiBbc2Vzc2lvbiwgLi4ucHJldi5zZXNzaW9uc10sXG4gICAgICAgIGN1cnJlbnRTZXNzaW9uSWQ6IHNlc3Npb24uaWQsXG4gICAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICAgIH0pKVxuICAgICAgXG4gICAgICAvLyBTYXZlIGN1cnJlbnQgc2Vzc2lvbiB0byBsb2NhbFN0b3JhZ2VcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFNUT1JBR0VfS0VZUy5zZXNzaW9uSWQsIHNlc3Npb24uaWQpXG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBNb2NrQVBJRXJyb3IgXG4gICAgICAgID8gbW9ja0FQSVV0aWxzLmZvcm1hdEVycm9yKGVycm9yKVxuICAgICAgICA6ICdGYWlsZWQgdG8gY3JlYXRlIHNlc3Npb24nXG4gICAgICBcbiAgICAgIHNldFN0YXRlKHByZXYgPT4gKHsgXG4gICAgICAgIC4uLnByZXYsIFxuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLCBcbiAgICAgICAgZXJyb3I6IGVycm9yTWVzc2FnZSBcbiAgICAgIH0pKVxuICAgIH1cbiAgfSwgW10pXG5cbiAgLyoqXG4gICAqIFNlbGVjdCBzZXNzaW9uXG4gICAqL1xuICBjb25zdCBzZWxlY3RTZXNzaW9uID0gdXNlQ2FsbGJhY2soYXN5bmMgKHNlc3Npb25JZDogc3RyaW5nKSA9PiB7XG4gICAgc2V0U3RhdGUocHJldiA9PiAoeyAuLi5wcmV2LCBjdXJyZW50U2Vzc2lvbklkOiBzZXNzaW9uSWQgfSkpXG4gICAgXG4gICAgLy8gU2F2ZSB0byBsb2NhbFN0b3JhZ2VcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTVE9SQUdFX0tFWVMuc2Vzc2lvbklkLCBzZXNzaW9uSWQpXG4gICAgXG4gICAgLy8gVXBkYXRlIHNlc3Npb24gYWN0aXZpdHlcbiAgICB0cnkge1xuICAgICAgYXdhaXQgbW9ja0FwaUNsaWVudC5jdXJyZW50LnVwZGF0ZVNlc3Npb25BY3Rpdml0eShzZXNzaW9uSWQpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byB1cGRhdGUgc2Vzc2lvbiBhY3Rpdml0eTonLCBlcnJvcilcbiAgICB9XG4gIH0sIFtdKVxuXG4gIC8qKlxuICAgKiBSZW5hbWUgc2Vzc2lvblxuICAgKi9cbiAgY29uc3QgcmVuYW1lU2Vzc2lvbiA9IHVzZUNhbGxiYWNrKGFzeW5jIChzZXNzaW9uSWQ6IHN0cmluZywgbmV3TmFtZTogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgdmFsaWRhdGlvbkVycm9yID0gbW9ja0FQSVV0aWxzLnZhbGlkYXRlU2Vzc2lvbk5hbWUobmV3TmFtZSlcbiAgICBpZiAodmFsaWRhdGlvbkVycm9yKSB7XG4gICAgICBzZXRTdGF0ZShwcmV2ID0+ICh7IC4uLnByZXYsIGVycm9yOiB2YWxpZGF0aW9uRXJyb3IgfSkpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgdXBkYXRlZFNlc3Npb24gPSBhd2FpdCBtb2NrQXBpQ2xpZW50LmN1cnJlbnQudXBkYXRlU2Vzc2lvbihzZXNzaW9uSWQsIHsgbmFtZTogbmV3TmFtZSB9KVxuICAgICAgXG4gICAgICBzZXRTdGF0ZShwcmV2ID0+ICh7XG4gICAgICAgIC4uLnByZXYsXG4gICAgICAgIHNlc3Npb25zOiBwcmV2LnNlc3Npb25zLm1hcChzZXNzaW9uID0+XG4gICAgICAgICAgc2Vzc2lvbi5pZCA9PT0gc2Vzc2lvbklkID8gdXBkYXRlZFNlc3Npb24gOiBzZXNzaW9uXG4gICAgICAgIClcbiAgICAgIH0pKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIE1vY2tBUElFcnJvciBcbiAgICAgICAgPyBtb2NrQVBJVXRpbHMuZm9ybWF0RXJyb3IoZXJyb3IpXG4gICAgICAgIDogJ0ZhaWxlZCB0byByZW5hbWUgc2Vzc2lvbidcbiAgICAgIFxuICAgICAgc2V0U3RhdGUocHJldiA9PiAoeyAuLi5wcmV2LCBlcnJvcjogZXJyb3JNZXNzYWdlIH0pKVxuICAgIH1cbiAgfSwgW10pXG5cbiAgLyoqXG4gICAqIERlbGV0ZSBzZXNzaW9uXG4gICAqL1xuICBjb25zdCBkZWxldGVTZXNzaW9uID0gdXNlQ2FsbGJhY2soYXN5bmMgKHNlc3Npb25JZDogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IG1vY2tBcGlDbGllbnQuY3VycmVudC5kZWxldGVTZXNzaW9uKHNlc3Npb25JZClcbiAgICAgIFxuICAgICAgc2V0U3RhdGUocHJldiA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1Nlc3Npb25zID0gcHJldi5zZXNzaW9ucy5maWx0ZXIocyA9PiBzLmlkICE9PSBzZXNzaW9uSWQpXG4gICAgICAgIGNvbnN0IG5ld0N1cnJlbnRTZXNzaW9uSWQgPSBwcmV2LmN1cnJlbnRTZXNzaW9uSWQgPT09IHNlc3Npb25JZCBcbiAgICAgICAgICA/IChuZXdTZXNzaW9uc1swXT8uaWQgPz8gbnVsbClcbiAgICAgICAgICA6IHByZXYuY3VycmVudFNlc3Npb25JZFxuICAgICAgICBcbiAgICAgICAgLy8gVXBkYXRlIGxvY2FsU3RvcmFnZVxuICAgICAgICBpZiAobmV3Q3VycmVudFNlc3Npb25JZCkge1xuICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFNUT1JBR0VfS0VZUy5zZXNzaW9uSWQsIG5ld0N1cnJlbnRTZXNzaW9uSWQpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oU1RPUkFHRV9LRVlTLnNlc3Npb25JZClcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgIHNlc3Npb25zOiBuZXdTZXNzaW9ucyxcbiAgICAgICAgICBjdXJyZW50U2Vzc2lvbklkOiBuZXdDdXJyZW50U2Vzc2lvbklkXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgTW9ja0FQSUVycm9yIFxuICAgICAgICA/IG1vY2tBUElVdGlscy5mb3JtYXRFcnJvcihlcnJvcilcbiAgICAgICAgOiAnRmFpbGVkIHRvIGRlbGV0ZSBzZXNzaW9uJ1xuICAgICAgXG4gICAgICBzZXRTdGF0ZShwcmV2ID0+ICh7IC4uLnByZXYsIGVycm9yOiBlcnJvck1lc3NhZ2UgfSkpXG4gICAgfVxuICB9LCBbXSlcblxuICAvKipcbiAgICogU2VuZCBtZXNzYWdlXG4gICAqL1xuICBjb25zdCBzZW5kTWVzc2FnZSA9IHVzZUNhbGxiYWNrKGFzeW5jIChjb250ZW50OiBzdHJpbmcpID0+IHtcbiAgICBpZiAoIXN0YXRlLmN1cnJlbnRTZXNzaW9uSWQpIHtcbiAgICAgIHNldFN0YXRlKHByZXYgPT4gKHsgLi4ucHJldiwgZXJyb3I6ICdObyBzZXNzaW9uIHNlbGVjdGVkJyB9KSlcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIFByZXZlbnQgZG91YmxlIHN1Ym1pc3Npb25zIHdpdGggcmVmXG4gICAgaWYgKHNlbmRpbmdNZXNzYWdlUmVmLmN1cnJlbnQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdBbHJlYWR5IHNlbmRpbmcgbWVzc2FnZSwgaWdub3JpbmcgZHVwbGljYXRlIHJlcXVlc3QnKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgc2VuZGluZ01lc3NhZ2VSZWYuY3VycmVudCA9IHRydWVcbiAgICBzZXRTdGF0ZShwcmV2ID0+ICh7IC4uLnByZXYsIGVycm9yOiBudWxsLCBpc0xvYWRpbmc6IHRydWUgfSkpXG5cbiAgICAvLyBHZW5lcmF0ZSBhIHRlbXBvcmFyeSBtZXNzYWdlIElEIGZvciB0cmFja2luZ1xuICAgIGNvbnN0IHRlbXBNZXNzYWdlSWQgPSBgdGVtcC0ke0RhdGUubm93KCl9YFxuICAgIHNldEN1cnJlbnRNZXNzYWdlSWQodGVtcE1lc3NhZ2VJZClcblxuICAgIC8vIENyZWF0ZSB1c2VyIG1lc3NhZ2VcbiAgICBjb25zdCB1c2VyTWVzc2FnZTogT21pdDxNZXNzYWdlLCAnaWQnPiA9IHtcbiAgICAgIHNlc3Npb25JZDogc3RhdGUuY3VycmVudFNlc3Npb25JZCxcbiAgICAgIGNvbnRlbnQsXG4gICAgICB0eXBlOiAndXNlcicsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKClcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgLy8gU2F2ZSB1c2VyIG1lc3NhZ2VcbiAgICAgIGNvbnN0IHNhdmVkVXNlck1lc3NhZ2UgPSBhd2FpdCBtb2NrQXBpQ2xpZW50LmN1cnJlbnQuY3JlYXRlTWVzc2FnZSh1c2VyTWVzc2FnZSlcbiAgICAgIGNvbnNvbGUubG9nKCdBZGRpbmcgdXNlciBtZXNzYWdlOicsIHNhdmVkVXNlck1lc3NhZ2UuaWQpXG4gICAgICBzZXRDdXJyZW50TWVzc2FnZXMocHJldiA9PiB7XG4gICAgICAgIC8vIENoZWNrIGlmIHRoaXMgbWVzc2FnZSBhbHJlYWR5IGV4aXN0cyB0byBwcmV2ZW50IGR1cGxpY2F0ZXNcbiAgICAgICAgY29uc3QgZXhpc3RzID0gcHJldi5zb21lKG1zZyA9PiBtc2cuaWQgPT09IHNhdmVkVXNlck1lc3NhZ2UuaWQpXG4gICAgICAgIGlmIChleGlzdHMpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnVXNlciBtZXNzYWdlIGFscmVhZHkgZXhpc3RzLCBza2lwcGluZzonLCBzYXZlZFVzZXJNZXNzYWdlLmlkKVxuICAgICAgICAgIHJldHVybiBwcmV2XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coJ0FkZGluZyBuZXcgdXNlciBtZXNzYWdlIHRvIHN0YXRlOicsIHNhdmVkVXNlck1lc3NhZ2UuaWQpXG4gICAgICAgIHJldHVybiBbLi4ucHJldiwgc2F2ZWRVc2VyTWVzc2FnZV1cbiAgICAgIH0pXG5cbiAgICAgIC8vIFByZXBhcmUgbjhuIHJlcXVlc3Qgd2l0aCBtZXNzYWdlIElEIGZvciB0cmFja2luZ1xuICAgICAgY29uc3QgbjhuUmVxdWVzdDogTjhOUmVxdWVzdCA9IHtcbiAgICAgICAgdXNlcm5hbWU6ICd1c2VyJywgLy8gVGhpcyBjb3VsZCBjb21lIGZyb20gdXNlciBjb250ZXh0XG4gICAgICAgIG1lc3NhZ2U6IGNvbnRlbnQsXG4gICAgICAgIHNlc3Npb25JZDogc3RhdGUuY3VycmVudFNlc3Npb25JZCxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICBtZXNzYWdlSWQ6IHRlbXBNZXNzYWdlSWQgLy8gQWRkIHRoaXMgdG8gdHJhY2sgdGhpbmtpbmcgdXBkYXRlc1xuICAgICAgfVxuXG4gICAgICAvLyBTZW5kIHRvIG44blxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBuOG5DbGllbnQuY3VycmVudC5zZW5kTWVzc2FnZVdpdGhSZXRyeShuOG5SZXF1ZXN0KVxuXG4gICAgICAvLyBDcmVhdGUgYXNzaXN0YW50IG1lc3NhZ2VcbiAgICAgIGNvbnN0IGFzc2lzdGFudE1lc3NhZ2U6IE9taXQ8TWVzc2FnZSwgJ2lkJz4gPSB7XG4gICAgICAgIHNlc3Npb25JZDogc3RhdGUuY3VycmVudFNlc3Npb25JZCxcbiAgICAgICAgY29udGVudDogJycsIC8vIExlYXZlIGVtcHR5IC0gUmVzcG9uc2VSZW5kZXJlciB3aWxsIGhhbmRsZSBkaXNwbGF5XG4gICAgICAgIHR5cGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgIHJlc3BvbnNlRGF0YToge1xuICAgICAgICAgIHR5cGU6IHJlc3BvbnNlLm1lc3NhZ2VUeXBlLFxuICAgICAgICAgIGNvbnRlbnQ6IHJlc3BvbnNlLmNvbnRlbnQsXG4gICAgICAgICAgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gU2F2ZSBhc3Npc3RhbnQgbWVzc2FnZVxuICAgICAgY29uc3Qgc2F2ZWRBc3Npc3RhbnRNZXNzYWdlID0gYXdhaXQgbW9ja0FwaUNsaWVudC5jdXJyZW50LmNyZWF0ZU1lc3NhZ2UoYXNzaXN0YW50TWVzc2FnZSlcbiAgICAgIGNvbnNvbGUubG9nKCdBZGRpbmcgYXNzaXN0YW50IG1lc3NhZ2U6Jywgc2F2ZWRBc3Npc3RhbnRNZXNzYWdlLmlkKVxuICAgICAgc2V0Q3VycmVudE1lc3NhZ2VzKHByZXYgPT4ge1xuICAgICAgICAvLyBDaGVjayBpZiB0aGlzIG1lc3NhZ2UgYWxyZWFkeSBleGlzdHMgdG8gcHJldmVudCBkdXBsaWNhdGVzXG4gICAgICAgIGNvbnN0IGV4aXN0cyA9IHByZXYuc29tZShtc2cgPT4gbXNnLmlkID09PSBzYXZlZEFzc2lzdGFudE1lc3NhZ2UuaWQpXG4gICAgICAgIGlmIChleGlzdHMpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnQXNzaXN0YW50IG1lc3NhZ2UgYWxyZWFkeSBleGlzdHMsIHNraXBwaW5nOicsIHNhdmVkQXNzaXN0YW50TWVzc2FnZS5pZClcbiAgICAgICAgICByZXR1cm4gcHJldlxuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKCdBZGRpbmcgbmV3IGFzc2lzdGFudCBtZXNzYWdlIHRvIHN0YXRlOicsIHNhdmVkQXNzaXN0YW50TWVzc2FnZS5pZClcbiAgICAgICAgcmV0dXJuIFsuLi5wcmV2LCBzYXZlZEFzc2lzdGFudE1lc3NhZ2VdXG4gICAgICB9KVxuXG4gICAgICAvLyBVcGRhdGUgc2Vzc2lvbiBpbiBzdGF0ZVxuICAgICAgc2V0U3RhdGUocHJldiA9PiAoe1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICBzZXNzaW9uczogcHJldi5zZXNzaW9ucy5tYXAoc2Vzc2lvbiA9PlxuICAgICAgICAgIHNlc3Npb24uaWQgPT09IHN0YXRlLmN1cnJlbnRTZXNzaW9uSWRcbiAgICAgICAgICAgID8geyAuLi5zZXNzaW9uLCBtZXRhZGF0YTogeyAuLi5zZXNzaW9uLm1ldGFkYXRhLCBtZXNzYWdlQ291bnQ6IHNlc3Npb24ubWV0YWRhdGEubWVzc2FnZUNvdW50ICsgMiB9IH1cbiAgICAgICAgICAgIDogc2Vzc2lvblxuICAgICAgICApXG4gICAgICB9KSlcblxuICAgICAgLy8gQ2xlYXIgbG9hZGluZyBzdGF0ZSBhbmQgbWVzc2FnZSBJRCBvbiBzdWNjZXNzXG4gICAgICBzZXRTdGF0ZShwcmV2ID0+ICh7IC4uLnByZXYsIGlzTG9hZGluZzogZmFsc2UgfSkpXG4gICAgICBzZXRDdXJyZW50TWVzc2FnZUlkKG51bGwpXG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBOOE5FcnJvciBcbiAgICAgICAgPyBuOG5VdGlscy5mb3JtYXRFcnJvcihlcnJvcilcbiAgICAgICAgOiAnRmFpbGVkIHRvIHNlbmQgbWVzc2FnZSdcbiAgICAgIFxuICAgICAgc2V0U3RhdGUocHJldiA9PiAoeyAuLi5wcmV2LCBlcnJvcjogZXJyb3JNZXNzYWdlLCBpc0xvYWRpbmc6IGZhbHNlIH0pKVxuICAgICAgc2V0Q3VycmVudE1lc3NhZ2VJZChudWxsKVxuICAgIH0gZmluYWxseSB7XG4gICAgICBzZW5kaW5nTWVzc2FnZVJlZi5jdXJyZW50ID0gZmFsc2VcbiAgICB9XG4gIH0sIFtzdGF0ZS5jdXJyZW50U2Vzc2lvbklkXSlcblxuICAvKipcbiAgICogSGFuZGxlIHN0cmVhbWluZyBtZXNzYWdlc1xuICAgKi9cbiAgY29uc3QgaGFuZGxlU3RyZWFtaW5nID0gdXNlQ2FsbGJhY2soYXN5bmMgKHNlc3Npb25JZDogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGZvciBhd2FpdCAoY29uc3QgcmVzcG9uc2Ugb2YgbjhuQ2xpZW50LmN1cnJlbnQuc3RyZWFtTWVzc2FnZXMoc2Vzc2lvbklkKSkge1xuICAgICAgICBpZiAobjhuVXRpbHMuaXNJbnRlcmltTWVzc2FnZShyZXNwb25zZSkpIHtcbiAgICAgICAgICAvLyBDcmVhdGUgaW50ZXJpbSBtZXNzYWdlXG4gICAgICAgICAgY29uc3QgaW50ZXJpbU1lc3NhZ2U6IE9taXQ8TWVzc2FnZSwgJ2lkJz4gPSB7XG4gICAgICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgICAgICBjb250ZW50OiB0eXBlb2YgcmVzcG9uc2UuY29udGVudCA9PT0gJ3N0cmluZycgPyByZXNwb25zZS5jb250ZW50IDogSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuY29udGVudCksXG4gICAgICAgICAgICB0eXBlOiAnaW50ZXJpbScsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICByZXNwb25zZURhdGE6IHtcbiAgICAgICAgICAgICAgdHlwZTogcmVzcG9uc2UubWVzc2FnZVR5cGUsXG4gICAgICAgICAgICAgIGNvbnRlbnQ6IHJlc3BvbnNlLmNvbnRlbnQsXG4gICAgICAgICAgICAgIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFNhdmUgYW5kIGRpc3BsYXkgaW50ZXJpbSBtZXNzYWdlXG4gICAgICAgICAgY29uc3Qgc2F2ZWRJbnRlcmltTWVzc2FnZSA9IGF3YWl0IG1vY2tBcGlDbGllbnQuY3VycmVudC5jcmVhdGVNZXNzYWdlKGludGVyaW1NZXNzYWdlKVxuICAgICAgICAgIHNldEN1cnJlbnRNZXNzYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCBzYXZlZEludGVyaW1NZXNzYWdlXSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdTdHJlYW1pbmcgZXJyb3I6JywgZXJyb3IpXG4gICAgfVxuICB9LCBbXSlcblxuICAvKipcbiAgICogUmV0cnkgZmFpbGVkIG1lc3NhZ2VcbiAgICovXG4gIGNvbnN0IHJldHJ5TWVzc2FnZSA9IHVzZUNhbGxiYWNrKGFzeW5jIChtZXNzYWdlSWQ6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjdXJyZW50TWVzc2FnZXMuZmluZChtID0+IG0uaWQgPT09IG1lc3NhZ2VJZClcbiAgICBpZiAoIW1lc3NhZ2UgfHwgbWVzc2FnZS50eXBlICE9PSAndXNlcicpIHJldHVyblxuXG4gICAgYXdhaXQgc2VuZE1lc3NhZ2UobWVzc2FnZS5jb250ZW50KVxuICB9LCBbY3VycmVudE1lc3NhZ2VzLCBzZW5kTWVzc2FnZV0pXG5cbiAgLyoqXG4gICAqIFRvZ2dsZSBzaWRlYmFyXG4gICAqL1xuICBjb25zdCB0b2dnbGVTaWRlYmFyID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldFN0YXRlKHByZXYgPT4ge1xuICAgICAgY29uc3QgbmV3Q29sbGFwc2VkID0gIXByZXYuc2lkZWJhckNvbGxhcHNlZFxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oU1RPUkFHRV9LRVlTLnNpZGViYXJDb2xsYXBzZWQsIFN0cmluZyhuZXdDb2xsYXBzZWQpKVxuICAgICAgcmV0dXJuIHsgLi4ucHJldiwgc2lkZWJhckNvbGxhcHNlZDogbmV3Q29sbGFwc2VkIH1cbiAgICB9KVxuICB9LCBbXSlcblxuICAvKipcbiAgICogTG9hZCBzaWRlYmFyIHN0YXRlIGZyb20gbG9jYWxTdG9yYWdlXG4gICAqL1xuICBjb25zdCBsb2FkU2lkZWJhclN0YXRlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IHNhdmVkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oU1RPUkFHRV9LRVlTLnNpZGViYXJDb2xsYXBzZWQpXG4gICAgaWYgKHNhdmVkKSB7XG4gICAgICBzZXRTdGF0ZShwcmV2ID0+ICh7IC4uLnByZXYsIHNpZGViYXJDb2xsYXBzZWQ6IHNhdmVkID09PSAndHJ1ZScgfSkpXG4gICAgfVxuICB9LCBbXSlcblxuICAvKipcbiAgICogQ2xlYXIgZXJyb3JcbiAgICovXG4gIGNvbnN0IGNsZWFyRXJyb3IgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0U3RhdGUocHJldiA9PiAoeyAuLi5wcmV2LCBlcnJvcjogbnVsbCB9KSlcbiAgfSwgW10pXG5cbiAgY29uc3QgdmFsdWU6IENoYXRDb250ZXh0VHlwZSA9IHtcbiAgICBzdGF0ZSxcbiAgICBjdXJyZW50TWVzc2FnZXMsXG4gICAgY3VycmVudE1lc3NhZ2VJZCxcbiAgICBjcmVhdGVTZXNzaW9uLFxuICAgIHNlbGVjdFNlc3Npb24sXG4gICAgcmVuYW1lU2Vzc2lvbixcbiAgICBkZWxldGVTZXNzaW9uLFxuICAgIHNlbmRNZXNzYWdlLFxuICAgIHJldHJ5TWVzc2FnZSxcbiAgICB0b2dnbGVTaWRlYmFyLFxuICAgIGNsZWFyRXJyb3JcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPENoYXRDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt2YWx1ZX0+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9DaGF0Q29udGV4dC5Qcm92aWRlcj5cbiAgKVxufSJdLCJuYW1lcyI6WyJSZWFjdCIsImNyZWF0ZUNvbnRleHQiLCJ1c2VDb250ZXh0IiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJ1c2VDYWxsYmFjayIsInVzZVJlZiIsImNyZWF0ZU44TkNsaWVudCIsIk44TkVycm9yIiwibjhuVXRpbHMiLCJjcmVhdGVNb2NrQVBJQ2xpZW50IiwiTW9ja0FQSUVycm9yIiwibW9ja0FQSVV0aWxzIiwiQVBJX0NPTkZJRyIsIlNUT1JBR0VfS0VZUyIsIkNoYXRDb250ZXh0IiwidW5kZWZpbmVkIiwidXNlQ2hhdCIsImNvbnRleHQiLCJFcnJvciIsIkNoYXRQcm92aWRlciIsImNoaWxkcmVuIiwibjhuQ2xpZW50Iiwid2ViaG9va1VybCIsIm44biIsInN0cmVhbWluZ1VybCIsInRpbWVvdXQiLCJyZXRyeUF0dGVtcHRzIiwicmV0cnlEZWxheSIsIm1vY2tBcGlDbGllbnQiLCJiYXNlVXJsIiwibW9ja0FwaSIsInByb2plY3RJZCIsInN0YXRlIiwic2V0U3RhdGUiLCJzZXNzaW9ucyIsImN1cnJlbnRTZXNzaW9uSWQiLCJpc0xvYWRpbmciLCJlcnJvciIsInNpZGViYXJDb2xsYXBzZWQiLCJ0aGVtZSIsImN1cnJlbnRNZXNzYWdlcyIsInNldEN1cnJlbnRNZXNzYWdlcyIsInN0cmVhbWluZ01lc3NhZ2VJZCIsInNldFN0cmVhbWluZ01lc3NhZ2VJZCIsImN1cnJlbnRNZXNzYWdlSWQiLCJzZXRDdXJyZW50TWVzc2FnZUlkIiwic2VuZGluZ01lc3NhZ2VSZWYiLCJsb2FkU2Vzc2lvbnMiLCJsb2FkU2lkZWJhclN0YXRlIiwibG9hZE1lc3NhZ2VzIiwicHJldiIsImN1cnJlbnQiLCJnZXRTZXNzaW9ucyIsInNhdmVkU2Vzc2lvbklkIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInNlc3Npb25JZCIsImZpbmQiLCJzIiwiaWQiLCJlcnJvck1lc3NhZ2UiLCJmb3JtYXRFcnJvciIsInNlc3Npb25NZXNzYWdlcyIsImdldE1lc3NhZ2VzIiwiY29uc29sZSIsImxvZyIsImxlbmd0aCIsIm1hcCIsIm0iLCJjcmVhdGVTZXNzaW9uIiwibmFtZSIsInNlc3Npb25OYW1lIiwiRGF0ZSIsInRvTG9jYWxlU3RyaW5nIiwic2Vzc2lvbiIsInNldEl0ZW0iLCJzZWxlY3RTZXNzaW9uIiwidXBkYXRlU2Vzc2lvbkFjdGl2aXR5IiwicmVuYW1lU2Vzc2lvbiIsIm5ld05hbWUiLCJ2YWxpZGF0aW9uRXJyb3IiLCJ2YWxpZGF0ZVNlc3Npb25OYW1lIiwidXBkYXRlZFNlc3Npb24iLCJ1cGRhdGVTZXNzaW9uIiwiZGVsZXRlU2Vzc2lvbiIsIm5ld1Nlc3Npb25zIiwiZmlsdGVyIiwibmV3Q3VycmVudFNlc3Npb25JZCIsInJlbW92ZUl0ZW0iLCJzZW5kTWVzc2FnZSIsImNvbnRlbnQiLCJ0ZW1wTWVzc2FnZUlkIiwibm93IiwidXNlck1lc3NhZ2UiLCJ0eXBlIiwidGltZXN0YW1wIiwic2F2ZWRVc2VyTWVzc2FnZSIsImNyZWF0ZU1lc3NhZ2UiLCJleGlzdHMiLCJzb21lIiwibXNnIiwibjhuUmVxdWVzdCIsInVzZXJuYW1lIiwibWVzc2FnZSIsIm1lc3NhZ2VJZCIsInJlc3BvbnNlIiwic2VuZE1lc3NhZ2VXaXRoUmV0cnkiLCJhc3Npc3RhbnRNZXNzYWdlIiwicmVzcG9uc2VEYXRhIiwibWVzc2FnZVR5cGUiLCJtZXRhZGF0YSIsInNhdmVkQXNzaXN0YW50TWVzc2FnZSIsIm1lc3NhZ2VDb3VudCIsImhhbmRsZVN0cmVhbWluZyIsInN0cmVhbU1lc3NhZ2VzIiwiaXNJbnRlcmltTWVzc2FnZSIsImludGVyaW1NZXNzYWdlIiwiSlNPTiIsInN0cmluZ2lmeSIsInNhdmVkSW50ZXJpbU1lc3NhZ2UiLCJyZXRyeU1lc3NhZ2UiLCJ0b2dnbGVTaWRlYmFyIiwibmV3Q29sbGFwc2VkIiwiU3RyaW5nIiwic2F2ZWQiLCJjbGVhckVycm9yIiwidmFsdWUiLCJQcm92aWRlciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./context/ChatContext.tsx\n"));

/***/ })

});